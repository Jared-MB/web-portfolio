---
import { Book, Copy, ExternalLink, Github, Package } from "@lucide/astro";
import Badge from "../components/Badge.astro";

const npmPackages = [
  {
    name: "@kristall/nexum",
    description:
      "A utility library for handling http request with TypeScript and NextJS cache support",
    version: "1.1.2",
    npmUrl: "https://www.npmjs.com/package/@kristall/nexum",
    docs: null,
    githubUrl: "https://github.com/Jared-MB/nexum",
    tags: ["typescript", "http", "cache"],
    publishDate: "June 2025",
    logo: "üì¶",
  },
  {
    name: "presivio",
    description:
      "React library to create dynamic and interactive presentations",
    version: "1.0.1",
    npmUrl: "https://www.npmjs.com/package/presivio",
    docs: "https://presivio.vercel.app",
    githubUrl: "https://github.com/Jared-MB/react-slides",
    tags: ["react", "typescript", "next"],
    publishDate: "July 2025",
    logo: "‚öõÔ∏è",
  },
];
---

<section
  class="max-w-screen-lg mx-auto flex flex-col gap-y-16 px-8 lg:px-0 pt-20"
>
  <h2 class="text-4xl font-medium">NPM Packages</h2>
  <div class="grid md:grid-cols-2 gap-6">
    {
      npmPackages.map((pkg) => (
        <div class="border-l-4 border-l-amber-500">
          <div class="p-6">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center text-xl">
                {pkg.logo}
              </div>
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-2">
                  <h3 class="font-semibold text-gray-900">{pkg.name}</h3>
                  <Badge
                    variant="outline"
                    class="text-xs bg-amber-50 text-amber-700 border-amber-200"
                  >
                    v{pkg.version}
                  </Badge>
                </div>

                <p class="text-gray-600 text-sm mb-3">{pkg.description}</p>

                {/* Stats */}
                <div class="flex items-center gap-4 mb-3">
                  <span class="text-xs text-gray-500">{pkg.publishDate}</span>
                </div>

                {/* Tags */}
                <div class="flex flex-wrap gap-1 mb-4">
                  {pkg.tags.map((tag, tagIndex) => (
                    <Badge key={tagIndex} variant="secondary" class="text-xs">
                      {tag}
                    </Badge>
                  ))}
                </div>

                {/* Installation Command */}
                <div class="bg-gray-100 rounded-md p-2 mb-3">
                  <div class="flex items-center justify-between">
                    <code class="text-xs text-gray-700">
                      npm install {pkg.name}
                    </code>
                    <button
                      onclick={`() => navigator.clipboard.writeText("npm install ${pkg.name}")`}
                      class="text-gray-500 hover:text-gray-700 transition-colors"
                      title="Copy install command"
                    >
                      <Copy class="w-3 h-3" />
                    </button>
                  </div>
                </div>

                {/* Links */}
                <div class="flex items-center gap-4">
                  {pkg.docs && (
                    <a
                      href={pkg.docs}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors"
                    >
                      <Book class="w-4 h-4" />
                      <span>Docs</span>
                      <ExternalLink class="w-3 h-3" />
                    </a>
                  )}
                  <a
                    href={pkg.npmUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-1 text-sm text-red-600 hover:text-red-800 hover:underline transition-colors"
                  >
                    <Package class="w-4 h-4" />
                    <span>NPM</span>
                    <ExternalLink class="w-3 h-3" />
                  </a>
                  <a
                    href={pkg.githubUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800 hover:underline transition-colors"
                  >
                    <Github class="w-4 h-4" />
                    <span>Source</span>
                    <ExternalLink class="w-3 h-3" />
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      ))
    }
  </div>
</section>
